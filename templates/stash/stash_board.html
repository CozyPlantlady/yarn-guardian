{% extends "base.html" %}

{% block content %}
{% if user.is_authenticated %}
    <div>
        <h1>My stash</h1>

        <table>
            {% for yarn in yarns %}
                <tr>
                    {% if yarn.exists %}
                    <td>{{ yarn.producer }}</td>
                    <td>{{ yarn.name }}</td>
                    <td>{{ yarn.color }}</td>

                    <td>{{ yarn.material }}</td>
                    {% else %}
                        <td><strike>{{ yarn.name }}</strike></td>
                    {% endif %}
                    <td>
                        <a href="/edit/{{ yarn.id }}">
                            <button>Edit</button>
                        </a>
                    </td>
                    <td>
                        <a href="/delete/{{ yarn.id }}">
                            <button>Delete</button>
                        </a>
                    </td>
                    
                </tr>
            {% empty %}
            <tr>
                <td class="red"> Your stash is empty.</td>
            </tr>
            {% endfor %}
        </table>
        <a href="/add_yarn">Add a new Yarn</a>
    </div>

{% else %}
<p>Please login to start using Yarn Guardian!</p>
{% endif %}

{% endblock %}